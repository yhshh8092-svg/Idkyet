<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>robbing.homes</title>

<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

<style>
body {
  margin:0; padding:0;
  background:#000; color:#c3c3c3;
  font-family:'VT323', monospace;
  display:flex; justify-content:center; align-items:center;
  height:100vh; overflow:hidden; flex-direction:column;
  transition: background 0.1s ease;
}

#bg {
  position:fixed;
  top:0; left:0;
  width:100vw; height:100vh;
  z-index:-1;
  background:#000;
}

#hidden-bg {
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:url('https://files.catbox.moe/h9ysgu.webp') center/cover no-repeat;
  filter: brightness(0) blur(8px);
  transition: filter 0.15s ease;
  z-index:-2;
}

#intro {
  display:flex; flex-direction:column; justify-content:center; align-items:center; cursor:pointer;
  transition: filter 0.1s ease, text-shadow 0.1s ease;
}
#intro img {
  width:200px; height:auto; opacity:0.8;
  filter:drop-shadow(0 0 10px #ff0000);
  animation:flicker 3s infinite alternate;
  transition: filter 0.1s ease;
}
#intro .menu {
  margin-top:20px; font-size:1.8rem; color:#ff3b3b;
  text-shadow:0 0 6px #ff0000;
  animation:glitch 5s infinite, flicker 7s infinite;
  transition: text-shadow 0.1s ease, transform 0.1s ease;
}
#intro .menu a { color:#ff3b3b; text-decoration:none; }
#intro .menu a:hover { text-shadow:0 0 10px #ff0000, 0 0 20px #ff0000; }

@keyframes glitch {
  0% { transform:none; }
  20% { transform:skew(0.5deg, 0.5deg); }
  40% { transform:translateX(-2px); }
  60% { transform:translateX(2px); }
  80% { transform:skew(-0.5deg, -0.5deg); }
  100% { transform:none; }
}
@keyframes flicker {
  0%,18%,22%,25%,53%,57%,100% { opacity:1; }
  20%,24%,55% { opacity:0.5; }
}

#main-page {
  display:none;
  padding:40px 20px;
  width:100%; min-height:100vh;
  box-sizing:border-box;
  background:transparent;
  color:#fff;
  overflow-x:hidden; overflow-y:auto;
  transition: text-shadow 0.1s ease;
}
h1 { text-align:center; margin-bottom:20px; }
.row { display:flex; gap:20px; margin-bottom:20px; justify-content:center; flex-wrap:wrap; }
.flip-card { background-color: transparent; width:150px; height:220px; perspective:1000px; cursor:pointer; }
.flip-card-inner { position: relative; width:100%; height:100%; transition: transform 0.6s; transform-style: preserve-3d; }
.flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
.flip-card-front, .flip-card-back {
  position:absolute; top:0; left:0; width:100%; height:100%;
  backface-visibility:hidden;
  border:2px solid white; border-radius:12px;
  display:flex; flex-direction:column; justify-content:flex-start; align-items:center;
  color:white; overflow:hidden; text-shadow:1px 1px 3px black; box-sizing:border-box;
  transition: box-shadow 0.1s ease, border-color 0.1s ease, filter 0.1s ease, background 0.1s ease;
}
.flip-card-front {
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(4px);
}
.flip-card-front img {
  width:100%; height:65%; object-fit:cover; border-bottom:2px solid white;
  transition: filter 0.1s ease;
}
.flip-card-front span { margin-top:5px; font-weight:bold; text-align:center; }
.flip-card-front .role {
  font-size:12px; font-weight:normal; color:#ccc; margin-top:2px; text-align:center;
}
.flip-card-back {
  background:rgba(0,0,0,0.85); transform:rotateY(180deg);
  font-size:12px; padding:10px; display:flex; justify-content:center; align-items:center; text-align:center;
}

.sparkle {
  position:absolute; width:4px; height:4px;
  background:white; border-radius:50%;
  pointer-events:none; animation:fade 0.5s linear forwards;
}
@keyframes fade { 0% {opacity:1;} 100% {opacity:0; transform:translateY(-10px);} }
</style>
</head>

<body>

<div id="hidden-bg"></div>
<canvas id="bg"></canvas>

<div id="intro">
  <div class="menu glitch"><a href="#">robbing.homes</a></div>
</div>

<div id="main-page">
  <h1>robbing.homes</h1>
  <div id="rows-container"></div>
</div>

<script>
const titles = ["r","ro","rob","robb","robbi","robbin","robbing","robbing.","robbing.h","robbing.ho","robbing.hom","robbing.home","robbing.homes","robbing.home","robbing.hom","robbing.ho","robbing.h","robbing.","robbing","robbin","robbi","robb","rob","ro","r"];
let t=0; setInterval(()=>{document.title=titles[t];t=(t+1)%titles.length;},200);

document.addEventListener('mousemove', e=>{
  const s=document.createElement('div');
  s.className='sparkle';
  s.style.left=e.pageX+'px';
  s.style.top=e.pageY+'px';
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),500);
});

const intro=document.getElementById('intro');
const mainPage=document.getElementById('main-page');

intro.addEventListener('click', ()=>{
  intro.style.display='none';
  mainPage.style.display='block';
  loadRoster();
  startVisualizer();
});

const roster = [
  {name:'Violence', role:'Owner', img:'https://files.catbox.moe/fy0v6l.png', bio:'violence', profile:'#'},
  {name:'Phantom', role:'Co-Owner', img:'https://files.catbox.moe/63sdgg.png', bio:'snow leopard', profile:'#'}
];

function loadRoster(){
  const row=document.createElement('div');
  row.className='row';
  roster.forEach(m=>{
    const card=document.createElement('div');
    card.className='flip-card';
    card.innerHTML=`
      <div class="flip-card-inner">
        <div class="flip-card-front">
          <img src="${m.img}">
          <span>${m.name}</span>
          <div class="role">${m.role}</div>
        </div>
        <div class="flip-card-back">${m.bio}</div>
      </div>`;
    card.onclick=()=>{window.location.href=m.profile;};
    row.appendChild(card);
  });
  document.getElementById('rows-container').appendChild(row);
}

async function startVisualizer() {
  const audioUrl = "https://files.catbox.moe/wkdgui.mp3";
  const canvas = document.getElementById("bg");
  const ctx = canvas.getContext("2d");
  const hiddenBg = document.getElementById("hidden-bg");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const response = await fetch(audioUrl);
  const arrayBuffer = await response.arrayBuffer();
  const audioBuffer = await audioCtx.decodeAudioData(arrayBuffer);
  const source = audioCtx.createBufferSource();
  source.buffer = audioBuffer;

  const analyser = audioCtx.createAnalyser();
  analyser.fftSize = 256;
  const dataArray = new Uint8Array(analyser.frequencyBinCount);
  source.connect(analyser);
  analyser.connect(audioCtx.destination);
  source.start();

  const elements = {
    body: document.body,
    menu: document.querySelector(".menu"),
    cardsFront: document.querySelectorAll(".flip-card-front"),
    cardsBack: document.querySelectorAll(".flip-card-back"),
    imgs: document.querySelectorAll("img"),
    title: document.querySelector("h1")
  };

  function animate() {
    requestAnimationFrame(animate);
    analyser.getByteFrequencyData(dataArray);
    const avg = dataArray.reduce((a,b)=>a+b,0)/dataArray.length;
    const bass = dataArray.slice(0,15).reduce((a,b)=>a+b,0)/15;

    ctx.clearRect(0,0,canvas.width,canvas.height);

    const x = canvas.width / 2;
    const y = canvas.height / 2;
    const orbRadius = 180 + bass * 2;
    const glowIntensity = Math.min(avg / 100, 1);
    const gradient = ctx.createRadialGradient(x, y, 0, x, y, orbRadius);
    gradient.addColorStop(0, `rgba(255,30,30,${0.8 * glowIntensity})`);
    gradient.addColorStop(0.6, `rgba(255,0,0,${0.3 * glowIntensity})`);
    gradient.addColorStop(1, `rgba(0,0,0,0)`);
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    hiddenBg.style.filter = `brightness(${Math.min(avg/50, 1.8)}) blur(${8 - Math.min(avg/80,6)}px)`;

    elements.body.style.background = `rgba(${bass*2},0,0,${Math.min(avg/300,0.3)})`;
    elements.menu.style.textShadow = `0 0 ${Math.min(avg/3,80)}px #ff0000`;

    elements.cardsFront.forEach(card=>{
      card.style.boxShadow = `0 0 ${Math.min(bass/2,50)}px #ff0000`;
      card.style.borderColor = `rgba(255,${avg/2},${avg/4},1)`;
      card.style.filter = `brightness(${1 + avg/200})`;
    });

    elements.cardsBack.forEach(back=>{
      back.style.boxShadow = `inset 0 0 ${Math.min(bass/2,50)}px #ff0000`;
      back.style.background = `rgba(${Math.min(bass*3,255)},0,0,${0.3 + avg/400})`;
      back.style.borderColor = `rgba(255,${avg/2},${avg/4},1)`;
      back.style.filter = `brightness(${1 + avg/250})`;
    });

    elements.imgs.forEach(img=>{
      img.style.filter = `drop-shadow(0 0 ${Math.min(avg/2,50)}px #ff0000)`;
    });

    if (elements.title) {
      elements.title.style.textShadow = `0 0 ${Math.min(avg/3,50)}px #ff0000`;
    }
  }
  animate();
}
</script>
</body>
</html>
